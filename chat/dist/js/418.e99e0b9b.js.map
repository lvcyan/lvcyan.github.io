{"version":3,"file":"js/418.e99e0b9b.js","mappings":"+JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,8BAA8B,CAACF,EAAG,KAAK,CAACA,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,aAAa,MAAQ,sBAAsBC,GAAG,CAAC,MAAQL,EAAIM,gBAAgBJ,EAAG,OAAO,CAACF,EAAIO,GAAG,SAAWP,EAAIQ,qBAAmFR,EAAIS,KAAjEP,EAAG,OAAO,CAACG,GAAG,CAAC,MAAQL,EAAIU,kBAAkB,CAACV,EAAIO,GAAG,QAAkBP,EAAIQ,qBAAsBN,EAAG,OAAO,CAACS,YAAY,gBAAgBN,GAAG,CAAC,MAAQL,EAAIY,yBAAyB,CAACZ,EAAIO,GAAG,QAAQP,EAAIS,MAAM,GAAKT,EAAIQ,qBAAgJR,EAAIS,KAA9HP,EAAG,MAAM,CAACS,YAAY,aAAa,CAAEX,EAAIa,mBAAoBX,EAAG,IAAI,CAACF,EAAIO,GAAGP,EAAIc,GAAGd,EAAIe,wBAAwBf,EAAIS,OAAiBT,EAAIQ,qBAAsBN,EAAG,MAAM,CAACS,YAAY,wBAAwB,CAACT,EAAG,WAAW,CAACc,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOnB,EAAIe,oBAAqBK,WAAW,wBAAwBT,YAAY,WAAWU,YAAY,CAAC,mBAAmB,iCAAiCC,SAAS,CAAC,MAAStB,EAAIe,qBAAsBV,GAAG,CAAC,MAAQ,SAASkB,GAAWA,EAAOC,OAAOC,YAAiBzB,EAAIe,oBAAoBQ,EAAOC,OAAOL,MAAK,OAAOnB,EAAIS,MAC/kC,EACIiB,EAAkB,G,sBC+BtB,GACAC,OACA,OAEAZ,oBAAAA,GAEAa,QAAAA,GAEAf,oBAAAA,EAEAL,sBAAAA,EAEA,EACAqB,SAAAA,KACA,SACAC,iBAAAA,GAAAA,EAAAA,KAAAA,iBACAC,kBAAAA,GAAAA,EAAAA,KAAAA,kBACAC,OAAAA,GAAAA,EAAAA,KAAAA,UAGAC,UACA,iBACA,EACAC,MAAAA,CACAF,SACA,iBACA,EACAnB,qBAAAA,EACAL,uBAAAA,GAEA2B,QAAAA,CACA7B,eACA,mBACA,EACA8B,aACA,mBACA,2BACA,mCAEA,2BACA,4BAEA,oCAEA,2BACA,6BAEA,2DAEA,wBAEA,EACAC,mBACA,OACAT,QAAAA,KAAAA,SAEAU,EAAAA,EAAAA,KAAAA,uBAAAA,GAAAA,MAAAA,IACA,2BACA,2BACA,IAEAA,EAAAA,EAAAA,KAAAA,uBAAAA,GAAAA,MAAAA,IACA,+CAEA,EAEA5B,kBACA,4BACA,EACAE,yBACA,6BACA,OACAgB,QAAAA,KAAAA,QACAW,aAAAA,KAAAA,qBAEAC,QAAAA,IAAAA,KAAAA,qBACAF,EAAAA,EAAAA,KAAAA,wBACAG,GACAC,MAAAA,GAAAA,QAAAA,IAAAA,EAAAA,WACA,IChH8S,I,WCQ1SC,GAAY,OACd,EACA5C,EACA2B,GACA,EACA,KACA,WACA,MAIF,EAAeiB,EAAiB,O","sources":["webpack://chat-demo/./src/views/GroupAddition/ChangeGroupAnnouncement.vue","webpack://chat-demo/src/views/GroupAddition/ChangeGroupAnnouncement.vue","webpack://chat-demo/./src/views/GroupAddition/ChangeGroupAnnouncement.vue?8b47","webpack://chat-demo/./src/views/GroupAddition/ChangeGroupAnnouncement.vue?f302"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"change-group-announcement\"}},[_c('h3',[_c('van-icon',{attrs:{\"name\":\"arrow-left\",\"color\":\"rgb(107, 107, 107)\"},on:{\"click\":_vm.routerGoBack}}),_c('span',[_vm._v(\"群公告\")]),(!_vm.isWriterAnnouncement)?_c('span',{on:{\"click\":_vm.setAnnouncement}},[_vm._v(\"编辑\")]):_vm._e(),(_vm.isWriterAnnouncement)?_c('span',{staticClass:\"button-writer\",on:{\"click\":_vm.accomplishAnnouncement}},[_vm._v(\"完成\")]):_vm._e()],1),(!_vm.isWriterAnnouncement)?_c('div',{staticClass:\"anno-info\"},[(_vm.isHaveAnnouncement)?_c('p',[_vm._v(_vm._s(_vm.AnnouncementConcent))]):_vm._e()]):_vm._e(),(_vm.isWriterAnnouncement)?_c('div',{staticClass:\"announcement-concent\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.AnnouncementConcent),expression:\"AnnouncementConcent\"}],staticClass:\"textarea\",staticStyle:{\"background-color\":\"var(--theme-background-black)\"},domProps:{\"value\":(_vm.AnnouncementConcent)},on:{\"input\":function($event){if($event.target.composing)return;_vm.AnnouncementConcent=$event.target.value}}})]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"change-group-announcement\">\r\n    <h3>\r\n      <van-icon\r\n        name=\"arrow-left\"\r\n        color=\"rgb(107, 107, 107)\"\r\n        @click=\"routerGoBack\"\r\n      />\r\n      <span>群公告</span>\r\n      <span v-if=\"!isWriterAnnouncement\" @click=\"setAnnouncement\">编辑</span>\r\n      <span\r\n        class=\"button-writer\"\r\n        v-if=\"isWriterAnnouncement\"\r\n        @click=\"accomplishAnnouncement\"\r\n        >完成</span\r\n      >\r\n    </h3>\r\n    <div class=\"anno-info\" v-if=\"!isWriterAnnouncement\">\r\n      <p v-if=\"isHaveAnnouncement\">{{ AnnouncementConcent }}</p>\r\n    </div>\r\n    <div class=\"announcement-concent\" v-if=\"isWriterAnnouncement\">\r\n      <textarea\r\n       class=\"textarea\"\r\n        style=\"background-color: var(--theme-background-black)\"\r\n        v-model=\"AnnouncementConcent\"\r\n      ></textarea>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WebIM from \"../../utils/WebIM\";\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      // 群公告内容\r\n      AnnouncementConcent: \"\",\r\n      //  当前群ID\r\n      groupId: \"\",\r\n      //   是否有发布群公告\r\n      isHaveAnnouncement: false,\r\n      //   是否进行编辑群公告\r\n      isWriterAnnouncement: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState({\r\n      newCreateGroupId: (state) => state.home.newCreateGroupId,\r\n      cacheClickGroupId: (state) => state.home.cacheClickGroupId,\r\n      userId: (state) => state.user.userId,\r\n    }),\r\n  },\r\n  created() {\r\n    this.getGroupId();\r\n  },\r\n  watch: {\r\n    userId() {\r\n      this.getGroupId();\r\n    },\r\n    isHaveAnnouncement() {},\r\n    isWriterAnnouncement() {},\r\n  },\r\n  methods: {\r\n    routerGoBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    getGroupId() {\r\n      if (this.userId !== \"\") {\r\n        if (this.newCreateGroupId !== \"\") {\r\n          this.groupId = this.newCreateGroupId;\r\n        } else if (\r\n          this.newCreateGroupId == \"\" &&\r\n          this.cacheClickGroupId !== \"\"\r\n        ) {\r\n          this.groupId = this.cacheClickGroupId;\r\n        } else if (\r\n          this.newCreateGroupId == \"\" &&\r\n          this.cacheClickGroupId == \"\"\r\n        ) {\r\n          this.groupId = sessionStorage.getItem(\"groupInfoCacheSave\");\r\n        }\r\n        this.getGroupAnnoInfo();\r\n      }\r\n    },\r\n    getGroupAnnoInfo() {\r\n      let option = {\r\n        groupId: this.groupId,\r\n      };\r\n      WebIM.conn.fetchGroupAnnouncement(option).then((res) => {\r\n        if (res.data.announcement !== \"\") {\r\n          this.isHaveAnnouncement = true;\r\n        }\r\n      });\r\n      WebIM.conn.fetchGroupAnnouncement(option).then((res) => {\r\n        this.AnnouncementConcent = res.data.announcement;\r\n      });\r\n    },\r\n\r\n    setAnnouncement() {\r\n      this.isWriterAnnouncement = true;\r\n    },\r\n    accomplishAnnouncement() {\r\n      this.isWriterAnnouncement = false;\r\n      let option = {\r\n        groupId: this.groupId,\r\n        announcement: this.AnnouncementConcent,\r\n      };\r\n      console.log(this.AnnouncementConcent);\r\n      WebIM.conn\r\n        .updateGroupAnnouncement(option)\r\n        .then((res) => console.log(res, \"123123\"));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#change-group-announcement {\r\n  width: 100vw;\r\n  height: 100vh;\r\n  color: rgb(164, 164, 164);\r\n  background-color: var(--theme-background-black);\r\n  h3 {\r\n    background-color: rgb(67, 67, 67);\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n    padding: 10px;\r\n    height: 45px;\r\n    .button-writer {\r\n      padding: 5px 8px;\r\n      background-color: gray;\r\n      border-radius: 5px;\r\n      color:#c0c4c8;\r\n    }\r\n  }\r\n\r\n  .textarea{\r\n    width: 100%;\r\n    height: 100%;\r\n    border: 0px solid #000;\r\n    outline: 0px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChangeGroupAnnouncement.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ChangeGroupAnnouncement.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChangeGroupAnnouncement.vue?vue&type=template&id=e6099a2e&scoped=true&\"\nimport script from \"./ChangeGroupAnnouncement.vue?vue&type=script&lang=js&\"\nexport * from \"./ChangeGroupAnnouncement.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChangeGroupAnnouncement.vue?vue&type=style&index=0&id=e6099a2e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e6099a2e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","on","routerGoBack","_v","isWriterAnnouncement","_e","setAnnouncement","staticClass","accomplishAnnouncement","isHaveAnnouncement","_s","AnnouncementConcent","directives","name","rawName","value","expression","staticStyle","domProps","$event","target","composing","staticRenderFns","data","groupId","computed","newCreateGroupId","cacheClickGroupId","userId","created","watch","methods","getGroupId","getGroupAnnoInfo","WebIM","announcement","console","updateGroupAnnouncement","then","component"],"sourceRoot":""}